<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tela inicial - LEGO MANIA</title>
  <link rel="stylesheet" href="style_funcionario.css" />
</head>
<body>
  <div class="custom-cursor site-wide">
    <div class="pointer"></div>  <!-- Cursor normal -->
    <div class="custom-pointer"></div> <!-- Cursor pros botões -->
  </div>

  <div class="container">
    <aside class="sidebar">
      <h1 class="logo">LEGO - <br>MANIA O.S</h1>
      <nav class="menu">
        <div class="menu-container">
          <button class="btn_menu" onclick="toggleSubmenu(this)">Cadastros</button>
          <div class="submenu">
            <a id="func" href="../Cadastro_funcionario_/cadastro_funcionario.html">Funcionários</a>
            <a id="cliente" href="../Cadastro_Cliente_/cadastro_cliente.html">Clientes</a>
            <a id="peça_estoque" href="../cadastro_pecas_/cadastro_pecas.html">Peças no estoque</a>
            <a id="fornecedor" href="../">Fornecedor</a>
          </div>
          <button class="btn_menu" onclick="toggleSubmenu(this)">Ordem de Serviço</button>
          <div class="submenu">
            <a id="botao_os" href="../Ordem_Servico/nova_ordem.html">Nova O.S</a>
            <a id="consulta_os" href="../Ordem_Servico/ordem_abertas.html">Consultar O.S</a>
          </div>
          <button class="btn_menu" onclick="toggleSubmenu(this)">Relatório de finanças</button>
          <div class="submenu">
            <a href="#">Ganho <br>bruto/lucro</a>
            <a href="#">Despesas</a>
            <a href="#">Serviços <br>realizados</a>
          </div>
          <button class="btn_menu" onclick="toggleSubmenu(this)">Relatório do estoque</button>
          <div class="submenu">
            <a href="#">Peças no <br>estoque</a>
            <a id="peca_requisitada" href="../Requisito_pecas/Pecas_requisitadas_barra.html">Relatório <br>de uso</a>
            <a id="entsaida_peca" href="../Entrada e saida peças/Entrada_pecas.html">Entrada/saída <br>de peças</a>
          </div>
          <button class="btn_menu" onclick="toggleSubmenu(this)">Gestão de pessoas</button>
          <div class="submenu">
            <a href="#">Clientes</a>
            <a id="gestao_func" href="../gestao_pessoas/gestao_func.html">Funcionários</a>
          </div>
        </div>
      </nav>
    </aside>
     <!--TUDO ACIMA É PADRÃO EM TODOS OS HTML-->

    <main class="main-content">
      <header class="header">
        <div class="logout">
          <button>Sair</button>
        </div>
      </header>

      <section class="cadastro-box">
        <h2>Cadastro de Funcionários</h2>

        <form id="formFuncionario" class="form-funcionario">
          <div class="form-group">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" placeholder="Nome completo" required>
          </div>

          <div class="form-group">
            <label for="cpfCnpj">CPF/CNPJ:</label>
            <input type="text" id="cpfCnpj" name="cpfCnpj"
                   placeholder="000.000.000-00 ou 00.000.000/0000-00" required>
          </div>

          <div class="form-group">
            <label for="salario">Salário:</label>
            <input type="text" id="salario" name="salario" placeholder="R$ 0,00" required>
          </div>

          <div class="form-group">
            <label for="cep">CEP:</label>
            <input type="text" id="cep" name="cep" placeholder="00000-000" required>
          </div>

          <div class="form-group">
            <label for="idade">Idade:</label>
            <input type="number" id="idade" name="idade" placeholder="Ex: 25" required min="11" max="100">
          </div>
            <!-- Dropdown personalizado de Função -->
          <div class="form-group">
            <label for="funcao">Função:</label>
            <div class="dropdown" id="funcao-dropdown">
              <div class="dropdown-button" onclick="toggleDropdown()">
                <span id="funcaoSelecionada">Selecione</span>
                <span class="arrow">▼</span>
              </div>
              <div class="dropdown-options">
                <div onclick="selecionarFuncao('Atendente')">Atendente</div>
                <div onclick="selecionarFuncao('Estoquista')">Estoquista</div>
                <div onclick="selecionarFuncao('Administrador')">Administrador</div>
              </div>
              <input type="hidden" id="funcao" name="funcao">
            </div>
          </div>

          <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" placeholder="exemplo@email.com" required>
          </div>

          <div class="form-buttons">
            <button type="submit" class="btn">Cadastrar</button>
            <button type="button" class="btn btn-voltar" id="btnvoltar">Voltar</button>
          </div>
        </form>
      </section>
    </main>
  </div>

  <!-- Scripts -->
  <script src="../tela_geral/tela_geral.js"></script>
  <script src="../tela_geral/main.js"></script>
  <script src="cadastro_funcionario.js"></script>
  <script>
    function toggleDropdown() {
      document.getElementById('funcao-dropdown').classList.toggle('open');
    }

    function selecionarFuncao(valor) {
      document.getElementById('funcaoSelecionada').innerText = valor;
      document.getElementById('funcao').value = valor;
      toggleDropdown();
    }

    // Máscara para CPF/CNPJ
    document.getElementById('cpfCnpj').addEventListener('input', function () {
      let v = this.value.replace(/\D/g, '');

      if (v.length <= 11) {
        v = v.replace(/(\d{3})(\d)/, '$1.$2');
        v = v.replace(/(\d{3})(\d)/, '$1.$2');
        v = v.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
      } else {
        v = v.replace(/^(\d{2})(\d)/, '$1.$2');
        v = v.replace(/^(\d{2})\.(\d{3})(\d)/, '$1.$2.$3');
        v = v.replace(/\.(\d{3})(\d)/, '.$1/$2');
        v = v.replace(/(\d{4})(\d)/, '$1-$2');
      }

      this.value = v;
    });
  </script>
</body>
</html>
